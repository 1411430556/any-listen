<!doctype html>
<html style="background-color: transparent">
  <head>
    <title>Any Listen</title>
  </head>
  <body id="body" style="background-color: transparent">
    <div id="root" style="display: none"></div>
    <script>
      {
        const formatLang = (lang = 'en') => {
          if (lang === 'zh-cn') return 'zh-Hans'
          if (lang === 'zh-tw') return 'zh-Hant'
          return lang.split('-')[0]
        }
        window.setLang = (lang = navigator.language.toLocaleLowerCase()) => {
          document.documentElement.setAttribute('lang', formatLang(lang))
        }
        window.setLang()
        window.dom_style = document.createElement('style')
        document.body.appendChild(window.dom_style)
        window.setTheme = (colors) => {
          window.dom_style.innerText = `:root {${Object.entries(colors)
            .map(([key, value]) => `${key}:${value};`)
            .join('')}}`
        }
        //<%- envScript %>
      }
    </script>
    <script type="module" src="src/main.ts"></script>
  </body>
</html>
